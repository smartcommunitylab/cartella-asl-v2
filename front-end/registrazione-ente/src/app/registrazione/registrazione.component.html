<div class="root-container">

    <div class="it-header-navbar-wrapper sticky">
        <div class="row">
            <div class="col-1">
                <a onclick="return false;" class="mr-5">
                    <img src="assets/images/logo_trasparente.png" class="nav-logo">
                </a>
            </div>
            <div class="col-2">
                <div class="nav-logo-text">Esperienze Didattiche<br>Insieme al Territorio</div>
                <div class="nav-logo-institute"></div>
            </div>
            <div class="col-7"></div>
            <div class="col-2">
                <ul class="navbar-nav color-blu">
                    <li class="nav-item v-center" *ngIf="profile">
                        <span class="float-right btn btn-primary btn-icon btn-full"
                            (click)="profileDropdownVisible = !profileDropdownVisible;">
                            <div>
                                <span>
                                    <div>
                                        <svg class="bg-light icon icon-lg icon-padded rounded-circle">
                                            <use xlink:href="assets/bootstrap-italia/svg/sprite.svg#it-user">
                                            </use>
                                        </svg>
                                        <br />
                                        {{profile.name}} {{profile.surname}}
                                    </div>
                                </span>
                            </div>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- dropdown menu -->
    <div [hidden]="!profileDropdownVisible">
        <div class="row sticky noHeight">
            <div class="col-10"></div>
            <div class="col-2 card-wrapper">
                <div class="card hiddenBG">
                    <div class="card-on-top card-body profile-card">
                        <div class="row profile-name" *ngIf="profile"><span class="col-sm-12">{{profile.name}}
                                {{profile.surname}}</span></div>
                        <div class="row profile-email" *ngIf="profile"><span class="col-sm-12">{{profile.email}}</span>
                        </div>
                        <!-- aziende -->
                        <div class="row link-list-wrapper rowBottomPadding">

                            <ul class="link-list">
                                <li class="list-item list-istituto" *ngFor="let az of aziende">
                                    <label class="customradio">
                                        <input type="radio" [value]="az" [(ngModel)]="actualAzienda"
                                            (change)="onAziendaChange(az);profileDropdownVisible = !profileDropdownVisible">
                                        <span class="istituto-name-parofile changeColor">{{az.nome}}</span>
                                        <span class="checkmark"></span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                        <!-- logout button -->
                        <div class="row">
                            <div class="col-sm-2"></div>
                            <div class="col-sm-8 button-logout-center">
                                <button type="button" class="btn btn-primary btn-xs button-logout" (click)="logout()">
                                    Logout
                                    <svg class="icon icon-white icon-sm">
                                        <use xlink:href="assets/bootstrap-italia/svg/sprite.svg#it-arrow-right-circle">
                                        </use>
                                    </svg>
                                </button>
                            </div>
                            <div class="col-sm-2"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="stepper1" class="bs-stepper">
        <div class="bs-stepper-header">
            <div class="step" (click)="move(1)" data-target="#test-l-1">
                <button class="step-trigger">
                    <span class="bs-stepper-circle font-35">1</span>
                    <span class="bs-stepper-label font-35">Liberatoria Privacy</span>
                </button>
            </div>
            <div class="line"></div>
            <div class="step" (click)="move(2)" data-target="#test-l-2">
                <button class="step-trigger">
                    <span class="bs-stepper-circle font-35">2</span>
                    <span class="bs-stepper-label font-35">Dati</span>
                </button>
            </div>
            <div class="line"></div>
            <div class="step" (click)="move(3)" data-target="#test-l-3">
                <button class="step-trigger">
                    <span class="bs-stepper-circle font-35">3</span>
                    <span class="bs-stepper-label font-35">Introduzione</span>
                </button>
            </div>
        </div>
        <div class="bs-stepper-content">
            <form (ngSubmit)="onSubmit()">
                <div id="test-l-1" class="content">
                    <br />
                    <br />
                    <div class="callNote text-semibold text-center font-25">Prima di tutto, ti chiediamo di leggere ed
                        accettare la liberatoria per la privacy e i
                        nostri termini e condizioni.
                    </div>
                    <br />
                    <br />
                    <div class="font-18">
                        <p class="text-bold font-20">
                            Ai sensi dell'art. 13 del Regolamento (UE) n. 2016/679 (GDPR), la informiamo che i dati personali presenti su questa piattaforma 
                            saranno trattati esclusivamente da personale autorizzato per la gestione dei percorsi dell’alternanza scuola lavoro tramite 
                            strumenti informatici idonei a garantire la sicurezza e la riservatezza dei dati stessi.
                        </p>
                        <p>
                            L'Informativa Privacy completa è disponibile al seguente <a target="_blank" href="assets/terms/informativa-privacy-EDIT.pdf">link</a>.
                        </p>
                    </div>
                    <br />
                    <br />
                    <div class="text-center font-20">
                        <it-checkbox id="Ho letto e compreso l’informativa sul trattamento dei miei dati personali" 
                            name="letto" [(ngModel)]="letto"
                            label="Ho letto e compreso l’informativa sul trattamento dei miei dati personali"></it-checkbox>
                    </div>
                    <br />
                    <br />
                    <div class="row text-center font-20">
                        <div class="col-2"></div>
                        <div class="col-4">
                            <button class="btn btn-danger">Annulla</button>
                        </div>
                        <div class="col-4">
                            <button [disabled]="!letto" (click)="next()" class="btn btn-success">Continua</button>
                        </div>
                        <div class="col-2"></div>
                    </div>
                </div>
                <div id="test-l-2" class="content">
                    <br />
                    <br />
                    <div class="callNote text-semibold text-center font-25">Alcuni dati su questo ente sono già presenti
                        nel nostro database: puoi correggerli e integrarli subito, oppure farlo più tardi.</div>
                    <br />
                    <br />
                    <div class="card-body-step2 m-16" *ngIf="profile">
                        <div class="title">
                            <button class="btn btn-primary v-center-inline" placement="bottom"
                                ngbTooltip="Modifica i dati di questa attività" (click)="modificaDatiAccount()">
                                Modifica dati account&nbsp;&nbsp;&nbsp;
                                <svg class="icon icon-white icon-sm btnModificationIcon">
                                    <use xlink:href="assets/bootstrap-italia/svg/sprite.svg#it-pencil"></use>
                                </svg>
                            </button>
                        </div>
                        <br>
                        <div class="p-1 middle-div row">
                            <div class="col-6">
                                <span class="row"><span class="text-semibold">Nome:&nbsp;</span>{{profile.name}}</span>
                                <span class="row"><span class="text-semibold">Cognome:&nbsp;</span>{{profile.surname}}</span>
                                <span class="row"><span class="text-semibold">Mail:&nbsp;</span>{{profile.email}}</span>
                                <span class="row"><span class="text-semibold">Codice fiscale:&nbsp;</span>{{profile.cf}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-body-step2 m-16" *ngIf="actualAzienda">
                        <div class="title">
                            Dati ente <br />
                            <button class="btn btn-primary v-center-inline" placement="bottom"
                                ngbTooltip="Modifica i dati di questa attività" (click)="modificaDatiEnte()">
                                Modifica dati ente&nbsp;&nbsp;&nbsp;
                                <svg class="icon icon-white icon-sm btnModificationIcon">
                                    <use xlink:href="assets/bootstrap-italia/svg/sprite.svg#it-pencil"></use>
                                </svg>
                            </button>
                        </div>
                        <br>
                        <div class="p-1 middle-div row">
                            <div class="col-6">
                                <span class="row"><span class="text-semibold">Nome ente:&nbsp;</span>{{actualAzienda.nome}}</span>
                                <span class="row"><span class="text-semibold">Partita iva:&nbsp;</span>{{actualAzienda.partita_iva}}</span>
                                <span class="row"><span class="text-semibold">Indirizzo:&nbsp;</span>{{actualAzienda.viaPiazza}}</span>
                                <span class="row"><span class="text-semibold">CAP:&nbsp;</span>{{actualAzienda.cap}}</span>
                                <span class="row"><span class="text-semibold">Comune:&nbsp;</span>{{actualAzienda.comune}}</span>
                                <span class="row"><span class="text-semibold">Provincia:&nbsp;</span>{{actualAzienda.provincia}}</span>
                            </div>
                            <div class="col-6">
                                <span class="row"><span class="text-semibold">Email:&nbsp;</span>{{ actualAzienda.email }}</span>
                                <span class="row"><span class="text-semibold">PEC:&nbsp;</span>{{actualAzienda.pec}}</span>
                                <span class="row"><span class="text-semibold">Telefono:&nbsp;</span>{{actualAzienda.phone}}</span>
                                <span class="row"><span class="text-semibold">Legale rappresentante:&nbsp;</span>{{actualAzienda.legaleRappresentante}}</span>
                                <span class="row"><span class="text-semibold">Responsabile della sicurezza:&nbsp;</span>{{actualAzienda.responsabileSicurezza}}</span>
                                <span class="row"><span class="text-semibold">Medico competente:&nbsp;</span>{{actualAzienda.medicoCompetente}}</span>
                            </div>
                        </div>
                        <div class="p-1 middle-div row">
                            <div class="col-12">
                                <span class="row"><span class="text-semibold">Codice ATECO:&nbsp;</span></span>
                                <span class="row" *ngFor="let ateco of attachedAteco">
                                    <td class="col-sm-6">{{ateco.codice}} - {{ateco.descrizione}}</td>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="test-l-3" class="content text-center">
                    <br />
                    <br />
                    <div class="callNote text-semibold text-center font-25">Benvenuto in EDIT!</div>
                    <br />
                    <br />
                    <div>
                        <div class="title">Video tutorial per EDIT Ente<br /></div>
                        <iframe width="1280" height="720" src="https://www.youtube.com/embed/Y7fBeDMIDTM" title="Video tutorial per EDIT Ente" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        <br />
                    </div>
                 </div>
            </form>
        </div>
    </div>
</div>