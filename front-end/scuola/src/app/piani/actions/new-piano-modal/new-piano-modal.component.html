<div class="modal-cartella">
    <div class="modal-header">
        <div class="row modal-title v-center">
            <span class="modalHeaderText m-top22">crea nuovo piano</span>
        </div>
        <div class="row v-center float-right">
            <button type="button" class="btn btn-danger btn-icon btn-xs btnAnnulla m-top22" (click)="activeModal.close('Close click')">
                <span class="row btnModificationText">
                    <span class="col-8 leftItem">Annulla</span>
                    <span class="col-4 rightItem">
                        <svg class="icon icon-white icon-sm btnModificationIcon">
                            <use xlink:href="assets/bootstrap-italia/svg/sprite.svg#it-close-big"></use>
                        </svg>
                    </span>
                </span>
            </button>
            &nbsp;&nbsp;
            <button class="btn btn-success btn-icon btn-xs btnSave m-top22" (click)="create()">
                <span class="row btnModificationText">
                    <span class="col-8 leftItem">Salva</span>
                    <span class="col-4 rightItem">
                        <i class="material-icons btnModificationIcon">save</i>
                    </span>
                </span>
            </button>
        </div>
    </div>

    <div class="modal-body">

        <div class="errorMsg" [hidden]="!forceErrorDisplay">Compila i campi necessari</div>

        <span class="row v-center modal-title modalBodyHeaderText">Dati piano</span>

        <div class="row m16">
            <div class="col-5">
                <!-- titolo -->
                <div class="row v-center form-group">
                    <div class="col-10" [class.has-danger]="titoloInput.invalid && (titoloInput.dirty || titoloInput.touched || forceErrorDisplay)">
                        <input type="text" class="form-control" [(ngModel)]="titolo" id="titolo" #titoloInput="ngModel" required>
                        <label for="titolo" >Titolo</label>
                        <div class="invalid-feedback" [class.d-block]="titoloInput.invalid && (titoloInput.dirty || titoloInput.touched || forceErrorDisplay)">
                            Campo necessario.
                        </div>
                    </div>
                    <div class="col-2"></div>
                </div>
                <!-- Corso di studio -->
                <div class="row v-center form-group">
                    <div class="col-10" [class.has-danger]="corsoStudioInput.invalid && (corsoStudioInput.dirty || corsoStudioInput.touched || forceErrorDisplay)">
                        <select class="browser-default form-control" [(ngModel)]="corsoStudioId" id="corsoStudio"
                            #corsoStudioInput="ngModel" required>
                            <option selected="selected">Corso di studio</option>
                            <option [value]="corsodistudio.courseId" *ngFor="let corsodistudio of corsiStudio">
                                {{corsodistudio.nome}}
                            </option>
                        </select>
                        <div class="invalid-feedback"
                            [class.d-block]="corsoStudioInput.value==='Corso di studio' && forceErrorDisplay">
                            Campo necessario.
                        </div>
                    </div>
                    <div class="col-2"></div>
                </div>
                <!-- Anno riferimento -->
                <div class="row v-center form-group">
                    <div class="col-10">
                        <label for="annoRiferimento" class="active">Anno riferimento</label>
                        <input disabled type="text" id="annoRiferimento" class="form-control bg-transparent" value="{{annoRiferimento}}">
                    </div>
                    <div class="col-2"></div>
                </div>
            </div>
            <div class="col-4">
                <!-- Monte ore 3º anno -->
                <div class="row v-center form-group">
                    <div class="col-10" [class.has-danger]="monte3annoInput.invalid && (monte3annoInput.dirty || monte3annoInput.touched || forceErrorDisplay)">
                        <label for="monte3anno">Monte ore 3º anno</label>
                        <input type="number" min="0" class="form-control" [(ngModel)]="monte3anno" id="monte3anno" #monte3annoInput="ngModel" required>
                        <div class="invalid-feedback" [class.d-block]="monte3annoInput.invalid && (monte3annoInput.dirty || monte3annoInput.touched || forceErrorDisplay)">
                            Campo necessario.
                        </div>
                    </div>
                    <div class="col-2"></div>
                </div>
                <!-- Monte ore 4º anno -->
                <div class="row v-center form-group">
                    <div class="col-10" [class.has-danger]="monte4annoInput.invalid && (monte4annoInput.dirty || monte4annoInput.touched || forceErrorDisplay)">
                        <label for="monte4anno">Monte ore 4º anno</label>
                        <input type="number" min="0" class="form-control" [(ngModel)]="monte4anno" id="monte4anno" #monte4annoInput="ngModel" required>
                        <div class="invalid-feedback" [class.d-block]="monte4annoInput.invalid && (monte4annoInput.dirty || monte4annoInput.touched || forceErrorDisplay)">
                            Campo necessario.
                        </div>
                    </div>
                    <div class="col-2"></div>
                </div>
                <!-- Monte ore 5º anno -->
                <div class="row v-center form-group">
                    <div class="col-10" [class.has-danger]="monte5annoInput.invalid && (monte5annoInput.dirty || monte5annoInput.touched || forceErrorDisplay)">
                        <label for="monte5anno">Monte ore 5º anno</label>
                        <input type="number" min="0" class="form-control" [(ngModel)]="monte5anno" id="monte5anno" #monte5annoInput="ngModel" required>
                        <div class="invalid-feedback" [class.d-block]="monte5annoInput.invalid && (monte5annoInput.dirty || monte5annoInput.touched || forceErrorDisplay)">
                            Campo necessario.
                        </div>
                    </div>
                    <div class="col-2"></div>
                </div>
            </div>
            <div class="col-3">
                <div class="row v-center form-group"></div>
                <!--  Totale ore: -->
                <div class="row v-center form-group">
                    <div class="col-10">
                        <label for="totalAnno" class="active">Totale ore:</label>
                        <input [disabled]=true type="number" id="totalAnno" class="form-control bg-transparent" value="{{monte4anno + monte3anno + monte5anno }}">
                    </div>
                    <div class="col-sm-2"></div>
                </div>
            </div>
        </div>
    </div>